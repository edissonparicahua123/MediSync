# ğŸ¥ EdiCarex Enterprise - Sistema Integral de GestiÃ³n Hospitalaria

> **La SoluciÃ³n Definitiva para la GestiÃ³n de Hospitales con Inteligencia Artificial Avanzada**

**EdiCarex Enterprise** es una plataforma SaaS (Software as a Service) de clase mundial, diseÃ±ada para revolucionar la administraciÃ³n hospitalaria. Combina una arquitectura robusta y escalable con el poder de la Inteligencia Artificial de Groq (Llama 3.3), ofreciendo una experiencia sin precedentes para mÃ©dicos, pacientes y administradores.

---

## ğŸš€ CaracterÃ­sticas Principales

### ğŸ¥ MÃ³dulos ClÃ­nicos y Administrativos (Core)

#### 1. GestiÃ³n Integral de Pacientes
-   **Expediente ClÃ­nico ElectrÃ³nico (ECE)**: Historial mÃ©dico completo, alergias, diagnÃ³sticos previos y antecedentes familiares.
-   **GestiÃ³n de Archivos**: Subida y visualizaciÃ³n segura de documentos (Rayos X, PDFs, resultados externos).
-   **BÃºsqueda Avanzada**: LocalizaciÃ³n instantÃ¡nea de pacientes por nombre, DNI o historial.

#### 2. Portal del Paciente (Nueva GeneraciÃ³n ğŸ‘¤)
-   **AutogestiÃ³n**: Los pacientes pueden agendar sus propias citas y ver su historial.
-   **Resultados en LÃ­nea**: Descarga directa de resultados de laboratorio e informes mÃ©dicos.
-   **FacturaciÃ³n Transparente**: VisualizaciÃ³n de facturas pendientes y pagos realizados.

#### 3. GestiÃ³n de Camas Hospitalarias (Bed Management System ğŸ›ï¸)
-   **Mapa Visual Interactivo**: Vista de planta del hospital con estado real de cada cama (Ocupada, Disponible, Limpieza, Mantenimiento).
-   **AsignaciÃ³n Drag-and-Drop**: Interfaz intuitiva para mover pacientes entre camas o habitaciones.
-   **Control de Capacidad**: MÃ©tricas en tiempo real sobre la ocupaciÃ³n del hospital.

#### 4. Sistema de Citas Inteligente
-   **Triaje con IA**: PriorizaciÃ³n automÃ¡tica de citas basada en la gravedad de los sÃ­ntomas reportados.
-   **Recordatorios AutomÃ¡ticos**: Notificaciones para reducir el ausentismo.
-   **Agenda DinÃ¡mica**: Vista de calendario para mÃ©dicos con gestiÃ³n de bloqueos y horarios.

#### 5. Farmacia e Inventario
-   **Control de Stock en Tiempo Real**: Seguimiento preciso de medicamentos e insumos.
-   **Alertas de Caducidad y Stock Bajo**: Notificaciones proactivas para evitar desabastecimiento.
-   **Trazabilidad**: Registro detallado de cada movimiento (entrada, salida, ajuste) por usuario.

#### 6. Laboratorio ClÃ­nico
-   **GestiÃ³n de Ã“rdenes**: CreaciÃ³n y seguimiento de Ã³rdenes de laboratorio.
-   **Ingreso de Resultados**: Plantillas personalizables para diferentes tipos de anÃ¡lisis.
-   **GeneraciÃ³n de Informes**: CreaciÃ³n automÃ¡tica de PDFs profesionales con los resultados para entregar al paciente.

#### 7. FacturaciÃ³n y Finanzas
-   **FacturaciÃ³n AutomÃ¡tica**: GeneraciÃ³n de facturas basada en servicios prestados, farmacia y honorarios mÃ©dicos.
-   **Control de Caja**: Registro de pagos parciales, totales y gestiÃ³n de mÃ©todos de pago.
-   **Reportes Financieros**: AnÃ¡lisis de ingresos por departamento, mÃ©dico o servicio.

#### 8. Control de Asistencia y Personal
-   **Reloj Checador Digital**: Registro de entrada y salida del personal mÃ©dico y administrativo.
-   **GestiÃ³n de Turnos**: AsignaciÃ³n y visualizaciÃ³n de horarios laborales.
-   **Reportes de Puntualidad**: CÃ¡lculos automÃ¡ticos de tardanzas y horas extra.

---

### ğŸ¤– Inteligencia Artificial (Powered by Groq LPU âœ¨)

EdiCarex no es solo un software de gestiÃ³n; es un asistente inteligente activo.

-   **Asistente MÃ©dico Virtual (Chatbot)**: Un chat siempre disponible capaz de responder dudas sobre protocolos mÃ©dicos, informaciÃ³n de medicamentos o navegaciÃ³n por el sistema, manteniendo el contexto de la conversaciÃ³n.
-   **ResÃºmenes ClÃ­nicos AutomÃ¡ticos**: La IA analiza las notas desestructuradas del mÃ©dico y genera un resumen clÃ­nico conciso y estandarizado, ahorrando horas de documentaciÃ³n.
-   **Triaje Predictivo**: AnÃ¡lisis de sÃ­ntomas ingresados para sugerir la prioridad de atenciÃ³n (Emergencia, Urgencia, Consulta General).
-   **PredicciÃ³n de Demanda FarmacÃ©utica**: Algoritmos que analizan el consumo histÃ³rico para predecir quÃ© medicamentos se necesitarÃ¡n la prÃ³xima semana.

---

## ğŸ—ï¸ Arquitectura TecnolÃ³gica (Tech Stack)

El proyecto estÃ¡ construido sobre un stack moderno, robusto y escalable, siguiendo las mejores prÃ¡cticas de la industria.

### Backend (Servidor API)
-   **Framework**: [NestJS](https://nestjs.com/) (Node.js) - Arquitectura modular y escalable.
-   **Lenguaje**: TypeScript - Tipado estÃ¡tico para mayor seguridad.
-   **Base de Datos**: PostgreSQL 15+ - Motor relacional robusto.
-   **ORM**: Prisma - GestiÃ³n de base de datos segura y moderna.
-   **CachÃ©**: Redis - Para alto rendimiento en sesiones y datos frecuentes.
-   **DocumentaciÃ³n API**: Swagger/OpenAPI - Interfaz interactiva para probar endpoints.

### Frontend (Cliente Web)
-   **Framework**: React 18 + Vite - Velocidad de desarrollo y rendimiento extremo.
-   **Lenguaje**: TypeScript.
-   **Estilos**: 
    -   **Tailwind CSS**: DiseÃ±o utility-first.
    -   **shadcn/ui**: Componentes accesibles y personalizables de alta calidad.
    -   **Lucide Icons**: IconografÃ­a moderna y consistente.
-   **Estado Global**: Zustand - GestiÃ³n de estado ligera y potente.
-   **GestiÃ³n de Datos**: React Query (TanStack Query) - CachÃ©, sincronizaciÃ³n y actualizaciones en segundo plano.
-   **VisualizaciÃ³n de Datos**: Recharts - GrÃ¡ficos estadÃ­sticos avanzados.

### Servicio de IA (Microservicio)
-   **Framework**: FastAPI (Python) - El framework de Python mÃ¡s rÃ¡pido para APIs.
-   **Modelo LLM**: **Groq Llama 3.3 70B** - Motor de inferencia ultra-rÃ¡pido LPU.
-   **Ciencia de Datos**: Scikit-learn, Pandas, NumPy - Para modelos predictivos locales.

### Infraestructura y DevOps
-   **ContenerizaciÃ³n**: Docker y Docker Compose - Despliegue consistente en cualquier entorno.
-   **Proxy Inverso**: Traefik - GestiÃ³n de trÃ¡fico y enrutamiento avanzado.
-   **IntegraciÃ³n Continua (CI/CD)**: GitHub Actions - AutomatizaciÃ³n de pruebas y despliegue.

---

## ğŸ“ Estructura del Proyecto

Entender la estructura es clave para navegar por el cÃ³digo fuente.

```bash
edicarex/
â”œâ”€â”€ client/                 # ğŸ–¥ï¸ AplicaciÃ³n Frontend (React)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/    # Componentes UI reutilizables (Botones, Modales, Tablas)
â”‚   â”‚   â”œâ”€â”€ pages/         # Vistas principales (Dashboard, Pacientes, Camas)
â”‚   â”‚   â”œâ”€â”€ hooks/         # Hooks personalizados de React
â”‚   â”‚   â”œâ”€â”€ services/      # LÃ³gica de comunicaciÃ³n con la API (Axios)
â”‚   â”‚   â”œâ”€â”€ stores/        # Estado global de la aplicaciÃ³n (Zustand)
â”‚   â”‚   â””â”€â”€ lib/           # Utilidades y configuraciÃ³n
â”‚   â”œâ”€â”€ Dockerfile         # ConfiguraciÃ³n de imagen Docker para frontend
â”‚   â””â”€â”€ package.json       # Dependencias del cliente
â”‚
â”œâ”€â”€ server/                 # âš™ï¸ API Backend (NestJS)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ auth/          # MÃ³dulo de AutenticaciÃ³n y Guardias (JWT)
â”‚   â”‚   â”œâ”€â”€ prisma/        # Servicio de base de datos
â”‚   â”‚   â”œâ”€â”€ users/         # GestiÃ³n de usuarios
â”‚   â”‚   â”œâ”€â”€ patients/      # LÃ³gica de negocio para pacientes
â”‚   â”‚   â”œâ”€â”€ beds/          # LÃ³gica para gestiÃ³n de camas
â”‚   â”‚   â”œâ”€â”€ ai/            # IntegraciÃ³n con el microservicio de IA
â”‚   â”‚   â””â”€â”€ [otros]/       # MÃ³dulos para cada entidad del sistema
â”‚   â”œâ”€â”€ prisma/
â”‚   â”‚   â””â”€â”€ schema.prisma  # DefiniciÃ³n de la base de datos completa
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ ai/                     # ğŸ§  Microservicio de Inteligencia Artificial (Python)
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ services/      # LÃ³gica de Groq y Modelos ML
â”‚   â”‚   â”œâ”€â”€ routers/       # Endpoints de la API de IA
â”‚   â”‚   â””â”€â”€ models/        # Schemas de validaciÃ³n (Pydantic)
â”‚   â”œâ”€â”€ requirements.txt   # Dependencias de Python
â”‚   â””â”€â”€ Dockerfile
â”‚
â””â”€â”€ docker-compose.yml      # ğŸ³ OrquestaciÃ³n de todos los servicios
```

---

## ğŸš¦ GuÃ­a de InstalaciÃ³n (Paso a Paso)

Sigue estos pasos para levantar el proyecto en tu entorno local.

### ğŸ“‹ Prerrequisitos
AsegÃºrate de tener instalado:
1.  **Docker Desktop** (Esencial para ejecutar todo junto).
2.  **Node.js 20+** (Solo si vas a desarrollar localmente sin Docker).
3.  **Git**.
4.  Una **API Key de Groq** (ConsÃ­guela en GroqCloud).

### ğŸš€ OpciÃ³n 1: Despliegue RÃ¡pido con Docker (Recomendada)

Esta opciÃ³n levanta todo el sistema (Base de datos, Backend, Frontend, Redis, IA) con un solo comando.

1.  **Clonar el repositorio**:
    ```bash
    git clone https://github.com/edissonparicahua123/EdiCarex.git
    cd edicarex
    ```

2.  **Configurar Variables de Entorno**:
    Copia el archivo de ejemplo y configÃºralo.
    ```bash
    cp .env.example .env
    ```
    âš ï¸ **IMPORTANTE**: Abre el archivo `.env` y coloca tu `GROQ_API_KEY`.

3.  **Iniciar los Servicios**:
    ```bash
    docker-compose up -d
    ```
    *Esto descargarÃ¡ las imÃ¡genes y levantarÃ¡ los contenedores. Puede tardar unos minutos la primera vez.*

4.  **Inicializar la Base de Datos**:
    Ejecuta las migraciones y carga los datos de prueba (seeds) dentro del contenedor:
    ```bash
    docker-compose exec server npm run prisma:migrate
    docker-compose exec server npm run prisma:seed
    ```

5.  **Â¡Listo! Accede al sistema**:
    -   ğŸ–¥ï¸ **Frontend (App Web)**: http://localhost:5173
    -   âš™ï¸ **Backend API**: http://localhost:3000
    -   ğŸ“š **DocumentaciÃ³n API**: http://localhost:3000/api/docs
    -   ğŸ§  **Servicio IA**: http://localhost:8000

---

### ğŸ› ï¸ OpciÃ³n 2: Desarrollo Local (Manual)

Si deseas ejecutar cada servicio individualmente para desarrollo.

#### 1. Backend (`/server`)
```bash
cd server
npm install                 # Instalar dependencias
npm run prisma:generate     # Generar cliente de base de datos
npm run start:dev           # Iniciar en modo desarrollo
```

#### 2. Frontend (`/client`)
```bash
cd client
npm install
npm run dev
```

#### 3. Servicio de IA (`/ai`)
```bash
cd ai
python -m venv venv         # Crear entorno virtual
source venv/bin/activate    # Activar (En Windows: venv\Scripts\activate)
pip install -r requirements.txt
uvicorn app.main:app --reload
```

---

## ğŸ” Seguridad y Acceso

El sistema utiliza estÃ¡ndares de seguridad empresarial:

-   **AutenticaciÃ³n JWT**: Tokens de acceso seguros con rotaciÃ³n de refresh tokens.
-   **RBAC (Role-Based Access Control)**:
    -   **Admin**: Acceso total al sistema.
    -   **MÃ©dico**: Acceso a pacientes, citas y sus propios horarios.
    -   **Enfermera**: GestiÃ³n de triaje, signos vitales y administraciÃ³n de camas.
    -   **FarmacÃ©utico**: Control de inventario y despacho de recetas.
    -   **Paciente**: Acceso limitado a su propio portal.
-   **Guards**: ProtecciÃ³n de rutas a nivel de servidor para asegurar que nadie acceda a datos no autorizados.

---

## ğŸ“… Roadmap (PrÃ³ximos Pasos)

-   [ ] **App MÃ³vil**: AplicaciÃ³n nativa para mÃ©dicos (React Native).
-   [ ] **Telemedicina**: Videollamadas integradas en el navegador (WebRTC).
-   [ ] **IntegraciÃ³n con Dispositivos IoT**: Lectura automÃ¡tica de signos vitales.
-   [ ] **Soporte Multi-idioma**: InglÃ©s, PortuguÃ©s y Quechua.

---

## ğŸ¤ Contribuir

Â¡Las contribuciones son bienvenidas!
1.  Haz un Fork del proyecto.
2.  Crea tu rama de funcionalidad (`git checkout -b feature/AmazingFeature`).
3.  Haz Commit de tus cambios (`git commit -m 'Add some AmazingFeature'`).
4.  Haz Push a la rama (`git push origin feature/AmazingFeature`).
5.  Abre un Pull Request.

---

## ğŸ“ Licencia

Este proyecto es software propietario desarrollado por el equipo de EdiCarex. Todos los derechos reservados.

---

**Desarrollado con pasiÃ³n ğŸ’™ por el Equipo de EdiCarex**
